<!-- FragmentShaderのサンプル
板ポリ -->
<html>
	<head>
		<title>My first three.js app</title>
		<style>
			body { margin: 0; }
			canvas { width: 100%; height: 100% }
		</style>
	</head>
	<body>
		<script src="../../Three_js/build/three.js"></script>
		<script>


			var ParamsShaderMaterial = {
				uniforms: {
					"time": {value: 1.0}
				},
				vertexShader: [
					"precision mediump float;",
					"uniform float time;",
					"void main() {",
					"gl_PointSize = 1.5;",
					"gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );",
					"}"
				].join( "\n" ),
				fragmentShader: [
					"precision mediump float;",
					"uniform float time;",
					"void main() {",
					"float t = time * 0.001;",
					"gl_FragColor = vec4(1.0, 0.0, 0.0, 1.0);",
					"}"
				].join( "\n" ),
			}

      var scene, camera, renderer, geometry;
			scene = new THREE.Scene();
			camera = new THREE.PerspectiveCamera( 75, window.innerWidth/window.innerHeight, 0.1, 1000 );
      camera.position.set(0, 0.0, 10.0);
      camera.lookAt(new THREE.Vector3());

			renderer = new THREE.WebGLRenderer();
			renderer.setSize( window.innerWidth, window.innerHeight );
			document.body.appendChild( renderer.domElement );

      init();
      animate();

      function init(){
        var geometry = new THREE.PlaneGeometry(5, 5, 10, 10);
        material = new THREE.ShaderMaterial(ParamsShaderMaterial);
        mesh = new THREE.Mesh(geometry, material);
				//mesh = new THREE.Points(geometry, material);
				mesh.position.z = -10;
        scene.add(mesh);
      }

      function animate(){
        requestAnimationFrame(animate);
        render();
      }

      function render(){
        time = performance.now();
        material.uniforms.time.value = time;
        renderer.render(scene, camera);
      }

	   </script>
	</body>
</html>
